<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSA Interview Roadmap Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .form-container {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #4a5568;
        }

        .form-group input, .form-group select, .form-group textarea {
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102,126,234,0.1);
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 12px;
            background: #f7fafc;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checkbox-item:hover {
            background: #edf2f7;
            transform: translateY(-2px);
        }

        .checkbox-item input {
            margin-right: 8px;
            transform: scale(1.2);
        }

        .generate-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 16px 32px;
            font-size: 18px;
            font-weight: 600;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            box-shadow: 0 4px 15px rgba(102,126,234,0.4);
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102,126,234,0.6);
        }

        .roadmap-container {
            display: none;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .roadmap-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .roadmap-header h2 {
            font-size: 2.5rem;
            color: #2d3748;
            margin-bottom: 10px;
        }

        .roadmap-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(102,126,234,0.3);
        }

        .stat-card h3 {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .stat-card p {
            opacity: 0.9;
        }

        .timeline-container {
            margin-bottom: 40px;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, #667eea, #764ba2);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .timeline-item:hover {
            transform: translateX(10px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -37px;
            top: 25px;
            width: 12px;
            height: 12px;
            background: #667eea;
            border-radius: 50%;
            border: 3px solid white;
        }

        .timeline-item h3 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .timeline-item p {
            color: #4a5568;
            margin-bottom: 15px;
        }

        .topic-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .tag {
            background: #edf2f7;
            color: #4a5568;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .calendar-container {
            margin-bottom: 40px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .nav-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px;
            background: #e2e8f0;
            border-radius: 15px;
            padding: 20px;
        }

        .calendar-day {
            background: white;
            padding: 15px;
            text-align: center;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .calendar-day:hover {
            background: #f7fafc;
            transform: scale(1.05);
        }

        .calendar-day.has-task {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .calendar-day.completed {
            background: #48bb78;
            color: white;
        }

        .day-number {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .day-task {
            font-size: 0.8rem;
            opacity: 0.9;
        }

        .progress-container {
            margin-bottom: 40px;
        }

        .progress-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .progress-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .progress-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .progress-circle {
            width: 100px;
            height: 100px;
            margin: 0 auto 15px;
            position: relative;
        }

        .achievement-badges {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .badge {
            background: #ffd700;
            color: #b7791f;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #4a5568;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .calendar-grid {
                grid-template-columns: repeat(7, 1fr);
                gap: 1px;
            }
            
            .calendar-day {
                min-height: 60px;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🚀 DSA Interview Roadmap</h1>
            <p>Your personalized path to cracking coding interviews</p>
        </div>

        <div class="form-container">
            <form id="roadmapForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="studentName">Your Name</label>
                        <input type="text" id="studentName" name="studentName" required>
                    </div>

                    <div class="form-group">
                        <label for="experienceLevel">Experience Level</label>
                        <select id="experienceLevel" name="experienceLevel" required>
                            <option value="">Select your level</option>
                            <option value="beginner">Beginner (New to DSA)</option>
                            <option value="intermediate">Intermediate (Some DSA knowledge)</option>
                            <option value="advanced">Advanced (Strong DSA foundation)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="targetCompany">Target Company Type</label>
                        <select id="targetCompany" name="targetCompany" required>
                            <option value="">Select company type</option>
                            <option value="faang">FAANG (Facebook, Amazon, Apple, Netflix, Google)</option>
                            <option value="tier1">Tier 1 (Microsoft, Adobe, Uber, etc.)</option>
                            <option value="tier2">Tier 2 (Mid-level companies)</option>
                            <option value="startup">Startups</option>
                            <option value="service">Service-based companies</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="timeframe">Preparation Timeframe</label>
                        <select id="timeframe" name="timeframe" required>
                            <option value="">Select timeframe</option>
                            <option value="2">2 Months (Intensive)</option>
                            <option value="4">4 Months (Balanced)</option>
                            <option value="6">6 Months (Comfortable)</option>
                            <option value="12">12 Months (Comprehensive)</option>
                            <option value="custom">Custom Duration</option>
                        </select>
                    </div>

                    <div class="form-group" id="customDaysGroup" style="display: none;">
                        <label for="customDays">Custom Duration (Days)</label>
                        <input type="number" id="customDays" name="customDays" min="30" max="365" placeholder="Enter number of days">
                    </div>

                    <div class="form-group">
                        <label for="dailyHours">Daily Study Hours</label>
                        <select id="dailyHours" name="dailyHours" required>
                            <option value="">Select hours</option>
                            <option value="1">1 Hour</option>
                            <option value="2">2 Hours</option>
                            <option value="3">3 Hours</option>
                            <option value="4">4 Hours</option>
                            <option value="5">5+ Hours</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>Topics to Focus On (Select all that apply)</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="arrays" name="topics" value="arrays">
                            <label for="arrays">Arrays & Strings</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="linkedlist" name="topics" value="linkedlist">
                            <label for="linkedlist">Linked Lists</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="stacks" name="topics" value="stacks">
                            <label for="stacks">Stacks & Queues</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="trees" name="topics" value="trees">
                            <label for="trees">Trees & BST</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="graphs" name="topics" value="graphs">
                            <label for="graphs">Graphs</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="dp" name="topics" value="dp">
                            <label for="dp">Dynamic Programming</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="recursion" name="topics" value="recursion">
                            <label for="recursion">Recursion & Backtracking</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="sorting" name="topics" value="sorting">
                            <label for="sorting">Sorting & Searching</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="hashing" name="topics" value="hashing">
                            <label for="hashing">Hashing</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="greedy" name="topics" value="greedy">
                            <label for="greedy">Greedy Algorithms</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="heap" name="topics" value="heap">
                            <label for="heap">Heaps & Priority Queues</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="trie" name="topics" value="trie">
                            <label for="trie">Trie</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="weakAreas">Weak Areas (Optional)</label>
                    <textarea id="weakAreas" name="weakAreas" rows="3" placeholder="Mention any specific topics you find challenging..."></textarea>
                </div>

                <div class="form-group">
                    <label for="goals">Specific Goals (Optional)</label>
                    <textarea id="goals" name="goals" rows="3" placeholder="What do you want to achieve? (e.g., solve 500 problems, master DP, etc.)"></textarea>
                </div>

                <button type="submit" class="generate-btn">🎯 Generate My Roadmap</button>
            </form>
        </div>

        <div class="roadmap-container" id="roadmapContainer">
            <div class="roadmap-header">
                <h2>Your Personalized DSA Roadmap</h2>
                <p id="roadmapSubtitle"></p>
            </div>

            <div class="roadmap-stats" id="roadmapStats">
                <!-- Stats will be populated by JavaScript -->
            </div>

            <div class="timeline-container">
                <h3 style="margin-bottom: 20px; color: #2d3748;">📅 Learning Timeline</h3>
                <div class="timeline" id="timeline">
                    <!-- Timeline items will be populated by JavaScript -->
                </div>
            </div>

            <div class="calendar-container">
                <h3 style="margin-bottom: 20px; color: #2d3748;">📆 Study Calendar</h3>
                <div class="calendar-header">
                    <button class="nav-btn" onclick="changeMonth(-1)">← Previous</button>
                    <h4 id="currentMonth">December 2024</h4>
                    <button class="nav-btn" onclick="changeMonth(1)">Next →</button>
                </div>
                <div class="calendar-grid" id="calendarGrid">
                    <!-- Calendar will be populated by JavaScript -->
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-header">
                    <h3 style="color: #2d3748;">📊 Progress Tracking</h3>
                </div>
                <div class="progress-cards">
                    <div class="progress-card">
                        <div class="progress-circle">
                            <canvas id="overallProgress" width="100" height="100"></canvas>
                        </div>
                        <h4>Overall Progress</h4>
                        <p>0% Complete</p>
                    </div>
                    <div class="progress-card">
                        <div class="progress-circle">
                            <canvas id="problemsSolved" width="100" height="100"></canvas>
                        </div>
                        <h4>Problems Solved</h4>
                        <p>0 / <span id="totalProblems">500</span></p>
                    </div>
                    <div class="progress-card">
                        <div class="progress-circle">
                            <canvas id="topicsCompleted" width="100" height="100"></canvas>
                        </div>
                        <h4>Topics Completed</h4>
                        <p>0 / <span id="totalTopics">12</span></p>
                    </div>
                </div>
                <div class="achievement-badges">
                    <div class="badge">🏆 Getting Started</div>
                </div>
            </div>
        </div>

        <div class="modal" id="dayModal">
            <div class="modal-content">
                <button class="close-btn" onclick="closeModal()">&times;</button>
                <h3 id="modalTitle">Day Details</h3>
                <div id="modalContent">
                    <!-- Day details will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentDate = new Date();
        let roadmapData = null;
        let userProgress = {
            problemsSolved: 0,
            topicsCompleted: 0,
            streak: 0,
            achievements: ['Getting Started']
        };

        const dsaTopics = {
            arrays: {
                name: 'Arrays & Strings',
                problems: 80,
                difficulty: 'Easy',
                duration: 10,
                description: 'Master array manipulation, string processing, and two-pointer techniques'
            },
            linkedlist: {
                name: 'Linked Lists',
                problems: 40,
                difficulty: 'Easy-Medium',
                duration: 8,
                description: 'Understand pointer manipulation, reversal, and cycle detection'
            },
            stacks: {
                name: 'Stacks & Queues',
                problems: 35,
                difficulty: 'Easy-Medium',
                duration: 7,
                description: 'Learn LIFO/FIFO principles and monotonic stack patterns'
            },
            trees: {
                name: 'Trees & BST',
                problems: 60,
                difficulty: 'Medium',
                duration: 12,
                description: 'Master tree traversals, BST operations, and tree construction'
            },
            graphs: {
                name: 'Graphs',
                problems: 50,
                difficulty: 'Medium-Hard',
                duration: 15,
                description: 'Learn BFS, DFS, shortest paths, and graph algorithms'
            },
            dp: {
                name: 'Dynamic Programming',
                problems: 70,
                difficulty: 'Hard',
                duration: 20,
                description: 'Master memoization, tabulation, and optimization problems'
            },
            recursion: {
                name: 'Recursion & Backtracking',
                problems: 45,
                difficulty: 'Medium-Hard',
                duration: 12,
                description: 'Understand recursive thinking and backtracking patterns'
            },
            sorting: {
                name: 'Sorting & Searching',
                problems: 30,
                difficulty: 'Easy-Medium',
                duration: 8,
                description: 'Master sorting algorithms and binary search variants'
            },
            hashing: {
                name: 'Hashing',
                problems: 35,
                difficulty: 'Easy-Medium',
                duration: 6,
                description: 'Learn hash maps, hash sets, and collision handling'
            },
            greedy: {
                name: 'Greedy Algorithms',
                problems: 40,
                difficulty: 'Medium',
                duration: 10,
                description: 'Understand greedy choice and optimization strategies'
            },
            heap: {
                name: 'Heaps & Priority Queues',
                problems: 25,
                difficulty: 'Medium',
                duration: 8,
                description: 'Master heap operations and priority queue applications'
            },
            trie: {
                name: 'Trie',
                problems: 20,
                difficulty: 'Medium',
                duration: 6,
                description: 'Learn prefix trees and string matching algorithms'
            }
        };

        document.getElementById('timeframe').addEventListener('change', function() {
            const customGroup = document.getElementById('customDaysGroup');
            if (this.value === 'custom') {
                customGroup.style.display = 'block';
                document.getElementById('customDays').required = true;
            } else {
                customGroup.style.display = 'none';
                document.getElementById('customDays').required = false;
            }
        });

        document.getElementById('roadmapForm').addEventListener('submit', function(e) {
            e.preventDefault();
            generateRoadmap();
        });

        function generateRoadmap() {
            const formData = new FormData(document.getElementById('roadmapForm'));
            const selectedTopics = Array.from(document.querySelectorAll('input[name="topics"]:checked'))
                .map(cb => cb.value);
            
            if (selectedTopics.length === 0) {
                alert('Please select at least one topic to focus on!');
                return;
            }

            const timeframe = formData.get('timeframe');
            const totalDays = timeframe === 'custom' ? 
                parseInt(formData.get('customDays')) : 
                parseInt(timeframe) * 30;

            const level = formData.get('experienceLevel');
            const company = formData.get('targetCompany');
            const dailyHours = parseInt(formData.get('dailyHours'));

            roadmapData = {
                name: formData.get('studentName'),
                level: level,
                company: company,
                totalDays: totalDays,
                dailyHours: dailyHours,
                topics: selectedTopics.map(topicKey => dsaTopics[topicKey]),
                weakAreas: formData.get('weakAreas'),
                goals: formData.get('goals')
            };

            displayRoadmap();
            document.getElementById('roadmapContainer').style.display = 'block';
            document.getElementById('roadmapContainer').scrollIntoView({ behavior: 'smooth' });
        }

        function displayRoadmap() {
            const { name, level, company, totalDays, dailyHours, topics } = roadmapData;
            
            // Update header
            document.getElementById('roadmapSubtitle').textContent = 
                `${name}'s ${level} level roadmap for ${company} interviews`;

            // Calculate stats
            const totalProblems = topics.reduce((sum, topic) => sum + topic.problems, 0);
            const totalTopics = topics.length;
            const estimatedHours = Math.ceil(totalProblems * 0.5); // 30 mins per problem average
            const dailyProblems = Math.ceil(totalProblems / totalDays);

            // Display stats
            const statsHTML = `
                <div class="stat-card">
                    <h3>${totalDays}</h3>
                    <p>Total Days</p>
                </div>
                <div class="stat-card">
                    <h3>${totalProblems}</h3>
                    <p>Problems to Solve</p>
                </div>
                <div class="stat-card">
                    <h3>${totalTopics}</h3>
                    <p>Topics to Master</p>
                </div>
                <div class="stat-card">
                    <h3>${dailyProblems}</h3>
                    <p>Daily Problems</p>
                </div>
            `;
            document.getElementById('roadmapStats').innerHTML = statsHTML;

            // Generate timeline
            generateTimeline();
            
            // Generate calendar
            generateCalendar();
            
            // Update progress tracking
            document.getElementById('totalProblems').textContent = totalProblems;
            document.getElementById('totalTopics').textContent = totalTopics;
            
            // Initialize progress charts
            initializeProgressCharts();
        }

        function generateTimeline() {
            const { topics, totalDays } = roadmapData;
            const timeline = document.getElementById('timeline');
            timeline.innerHTML = '';

            let currentDay = 0;
            topics.forEach((topic, index) => {
                const topicDays = Math.ceil(topic.duration);
                const endDay = currentDay + topicDays;
                
                const timelineItem = document.createElement('div');
                timelineItem.className = 'timeline-item';
                timelineItem.innerHTML = `
                    <h3>${topic.name}</h3>
                    <p><strong>Days ${currentDay + 1} - ${endDay}</strong> (${topicDays} days)</p>
                    <p>${topic.description}</p>
                    <div class="topic-tags">
                        <span class="tag">${topic.problems} problems</span>
                        <span class="tag">${topic.difficulty}</span>
                        <span class="tag">${Math.ceil(topic.problems / topicDays)} problems/day</span>
                    </div>
                `;
                timeline.appendChild(timelineItem);
                
                currentDay = endDay;
            });
        }

        function generateCalendar() {
            const today = new Date();
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            document.getElementById('currentMonth').textContent = 
                new Date(year, month).toLocaleDateString('en-US', { month: 'long', year: 'numeric' });

            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const startingDayOfWeek = firstDay.getDay();
            const daysInMonth = lastDay.getDate();

            const calendarGrid = document.getElementById('calendarGrid');
            calendarGrid.innerHTML = '';

            // Add day headers
            const dayHeaders = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            dayHeaders.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.className = 'calendar-day';
                dayHeader.style.fontWeight = 'bold';
                dayHeader.style.background = '#4a5568';
                dayHeader.style.color = 'white';
                dayHeader.textContent = day;
                calendarGrid.appendChild(dayHeader);
            });

            // Add empty cells for days before the first day of the month
            for (let i = 0; i < startingDayOfWeek; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'calendar-day';
                emptyDay.style.background = '#f7fafc';
                calendarGrid.appendChild(emptyDay);
            }

            // Generate calendar days with tasks
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                
                const dayNumber = document.createElement('div');
                dayNumber.className = 'day-number';
                dayNumber.textContent = day;
                
                const dayTask = document.createElement('div');
                dayTask.className = 'day-task';
                
                // Assign tasks based on roadmap
                const task = getDailyTask(day);
                if (task) {
                    dayTask.textContent = task.topic;
                    dayElement.classList.add('has-task');
                    dayElement.onclick = () => showDayDetails(day, task);
                }
                
                dayElement.appendChild(dayNumber);
                dayElement.appendChild(dayTask);
                calendarGrid.appendChild(dayElement);
            }
        }

        function getDailyTask(day) {
            if (!roadmapData) return null;
            
            const { topics, totalDays } = roadmapData;
            if (day > totalDays) return null;
            
            let currentDay = 0;
            for (let topic of topics) {
                const topicDays = Math.ceil(topic.duration);
                if (day <= currentDay + topicDays) {
                    const dayInTopic = day - currentDay;
                    const problemsPerDay = Math.ceil(topic.problems / topicDays);
                    return {
                        topic: topic.name,
                        problems: problemsPerDay,
                        day: dayInTopic,
                        totalDays: topicDays,
                        description: topic.description,
                        difficulty: topic.difficulty
                    };
                }
                currentDay += topicDays;
            }
            return null;
        }

        function showDayDetails(day, task) {
            const modal = document.getElementById('dayModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalContent');
            
            modalTitle.textContent = `Day ${day} - ${task.topic}`;
            modalContent.innerHTML = `
                <div style="margin-bottom: 20px;">
                    <h4 style="color: #2d3748; margin-bottom: 10px;">📚 Today's Focus</h4>
                    <p style="margin-bottom: 15px;">${task.description}</p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 20px;">
                        <div style="background: #f7fafc; padding: 15px; border-radius: 10px; text-align: center;">
                            <strong>${task.problems}</strong><br>
                            <small>Problems to solve</small>
                        </div>
                        <div style="background: #f7fafc; padding: 15px; border-radius: 10px; text-align: center;">
                            <strong>${task.difficulty}</strong><br>
                            <small>Difficulty level</small>
                        </div>
                        <div style="background: #f7fafc; padding: 15px; border-radius: 10px; text-align: center;">
                            <strong>${task.day}/${task.totalDays}</strong><br>
                            <small>Progress in topic</small>
                        </div>
                    </div>
                    
                    <h4 style="color: #2d3748; margin-bottom: 10px;">🎯 Recommended Problems</h4>
                    <div style="background: #f7fafc; padding: 15px; border-radius: 10px;">
                        ${getProblemRecommendations(task.topic)}
                    </div>
                    
                    <h4 style="color: #2d3748; margin: 20px 0 10px;">📝 Daily Checklist</h4>
                    <div style="background: #f7fafc; padding: 15px; border-radius: 10px;">
                        <label style="display: block; margin-bottom: 10px;">
                            <input type="checkbox" style="margin-right: 8px;"> Read theory and concepts
                        </label>
                        <label style="display: block; margin-bottom: 10px;">
                            <input type="checkbox" style="margin-right: 8px;"> Solve ${task.problems} problems
                        </label>
                        <label style="display: block; margin-bottom: 10px;">
                            <input type="checkbox" style="margin-right: 8px;"> Review solutions and optimize
                        </label>
                        <label style="display: block; margin-bottom: 10px;">
                            <input type="checkbox" style="margin-right: 8px;"> Make notes of key patterns
                        </label>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button onclick="markDayComplete(${day})" style="background: #48bb78; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; margin-right: 10px;">
                        ✅ Mark as Complete
                    </button>
                    <button onclick="closeModal()" style="background: #e2e8f0; color: #4a5568; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer;">
                        Close
                    </button>
                </div>
            `;
            
            modal.style.display = 'block';
        }

        function getProblemRecommendations(topicName) {
            const recommendations = {
                'Arrays & Strings': [
                    'Two Sum', 'Best Time to Buy and Sell Stock', 'Contains Duplicate',
                    'Product of Array Except Self', 'Maximum Subarray', 'Rotate Array'
                ],
                'Linked Lists': [
                    'Reverse Linked List', 'Merge Two Sorted Lists', 'Linked List Cycle',
                    'Remove Nth Node From End', 'Add Two Numbers', 'Copy List with Random Pointer'
                ],
                'Trees & BST': [
                    'Maximum Depth of Binary Tree', 'Same Tree', 'Invert Binary Tree',
                    'Binary Tree Level Order Traversal', 'Validate Binary Search Tree', 'Lowest Common Ancestor'
                ],
                'Dynamic Programming': [
                    'Climbing Stairs', 'House Robber', 'Coin Change',
                    'Longest Increasing Subsequence', 'Edit Distance', 'Longest Common Subsequence'
                ],
                'Graphs': [
                    'Number of Islands', 'Clone Graph', 'Course Schedule',
                    'Word Ladder', 'Shortest Path in Binary Matrix', 'Network Delay Time'
                ],
                'Stacks & Queues': [
                    'Valid Parentheses', 'Min Stack', 'Daily Temperatures',
                    'Sliding Window Maximum', 'Implement Queue using Stacks', 'Next Greater Element'
                ],
                'Recursion & Backtracking': [
                    'Generate Parentheses', 'Permutations', 'Subsets',
                    'N-Queens', 'Sudoku Solver', 'Word Search'
                ],
                'Sorting & Searching': [
                    'Binary Search', 'Search in Rotated Sorted Array', 'Find First and Last Position',
                    'Merge Sort', 'Quick Sort', 'Search a 2D Matrix'
                ],
                'Hashing': [
                    'Group Anagrams', 'Top K Frequent Elements', 'Valid Anagram',
                    'Longest Substring Without Repeating Characters', 'Two Sum', 'Subarray Sum Equals K'
                ],
                'Greedy Algorithms': [
                    'Jump Game', 'Gas Station', 'Meeting Rooms II',
                    'Non-overlapping Intervals', 'Minimum Number of Arrows', 'Task Scheduler'
                ],
                'Heaps & Priority Queues': [
                    'Kth Largest Element', 'Top K Frequent Elements', 'Merge k Sorted Lists',
                    'Find Median from Data Stream', 'Sliding Window Maximum', 'Ugly Number II'
                ],
                'Trie': [
                    'Implement Trie', 'Word Search II', 'Design Add and Search Words',
                    'Replace Words', 'Palindrome Pairs', 'Map Sum Pairs'
                ]
            };
            
            const problems = recommendations[topicName] || ['Practice basic problems', 'Solve medium difficulty', 'Challenge yourself with hard problems'];
            return problems.map(problem => `<div style="margin-bottom: 5px;">• ${problem}</div>`).join('');
        }

        function markDayComplete(day) {
            const calendarDays = document.querySelectorAll('.calendar-day');
            const dayElement = calendarDays[day + 6]; // +6 for header row and empty cells
            
            if (dayElement) {
                dayElement.classList.add('completed');
                dayElement.classList.remove('has-task');
            }
            
            // Update progress
            const task = getDailyTask(day);
            if (task) {
                userProgress.problemsSolved += task.problems;
                userProgress.streak++;
            }
            
            // Check for achievements
            checkAchievements();
            
            // Update progress charts
            updateProgressCharts();
            
            closeModal();
        }

        function checkAchievements() {
            const achievements = [];
            
            if (userProgress.problemsSolved >= 10 && !userProgress.achievements.includes('Problem Solver')) {
                achievements.push('Problem Solver');
                userProgress.achievements.push('Problem Solver');
            }
            
            if (userProgress.problemsSolved >= 50 && !userProgress.achievements.includes('Coding Ninja')) {
                achievements.push('Coding Ninja');
                userProgress.achievements.push('Coding Ninja');
            }
            
            if (userProgress.problemsSolved >= 100 && !userProgress.achievements.includes('Century Club')) {
                achievements.push('Century Club');
                userProgress.achievements.push('Century Club');
            }
            
            if (userProgress.streak >= 7 && !userProgress.achievements.includes('Week Warrior')) {
                achievements.push('Week Warrior');
                userProgress.achievements.push('Week Warrior');
            }
            
            if (userProgress.streak >= 30 && !userProgress.achievements.includes('Monthly Master')) {
                achievements.push('Monthly Master');
                userProgress.achievements.push('Monthly Master');
            }
            
            // Update achievement display
            updateAchievementDisplay();
            
            // Show new achievement notifications
            achievements.forEach(achievement => {
                setTimeout(() => {
                    alert(`🎉 New Achievement Unlocked: ${achievement}!`);
                }, 500);
            });
        }

        function updateAchievementDisplay() {
            const badgeContainer = document.querySelector('.achievement-badges');
            badgeContainer.innerHTML = '';
            
            userProgress.achievements.forEach(achievement => {
                const badge = document.createElement('div');
                badge.className = 'badge';
                badge.textContent = getAchievementIcon(achievement) + ' ' + achievement;
                badgeContainer.appendChild(badge);
            });
        }

        function getAchievementIcon(achievement) {
            const icons = {
                'Getting Started': '🚀',
                'Problem Solver': '🧩',
                'Coding Ninja': '🥷',
                'Century Club': '💯',
                'Week Warrior': '⚔️',
                'Monthly Master': '👑',
                'DSA Expert': '🎓'
            };
            return icons[achievement] || '🏆';
        }

        function closeModal() {
            document.getElementById('dayModal').style.display = 'none';
        }

        function changeMonth(direction) {
            currentDate.setMonth(currentDate.getMonth() + direction);
            generateCalendar();
        }

        function initializeProgressCharts() {
            // Overall Progress Chart
            const overallCtx = document.getElementById('overallProgress').getContext('2d');
            new Chart(overallCtx, {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: [0, 100],
                        backgroundColor: ['#667eea', '#e2e8f0'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    }
                }
            });

            // Problems Solved Chart
            const problemsCtx = document.getElementById('problemsSolved').getContext('2d');
            new Chart(problemsCtx, {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: [0, roadmapData ? roadmapData.topics.reduce((sum, topic) => sum + topic.problems, 0) : 100],
                        backgroundColor: ['#48bb78', '#e2e8f0'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    }
                }
            });

            // Topics Completed Chart
            const topicsCtx = document.getElementById('topicsCompleted').getContext('2d');
            new Chart(topicsCtx, {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: [0, roadmapData ? roadmapData.topics.length : 12],
                        backgroundColor: ['#f56565', '#e2e8f0'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        function updateProgressCharts() {
            // This would update the charts with actual progress data
            // For now, we'll just update the text
            const progressCards = document.querySelectorAll('.progress-card p');
            if (progressCards.length >= 3) {
                const totalProblems = roadmapData ? roadmapData.topics.reduce((sum, topic) => sum + topic.problems, 0) : 500;
                const overallProgress = Math.round((userProgress.problemsSolved / totalProblems) * 100);
                
                progressCards[0].textContent = `${overallProgress}% Complete`;
                progressCards[1].textContent = `${userProgress.problemsSolved} / ${totalProblems}`;
                progressCards[2].textContent = `${userProgress.topicsCompleted} / ${roadmapData ? roadmapData.topics.length : 12}`;
            }
        }

        // Initialize calendar on page load
        document.addEventListener('DOMContentLoaded', function() {
            generateCalendar();
        });

        // Close modal when clicking outside
        document.getElementById('dayModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>
</body>
</html>